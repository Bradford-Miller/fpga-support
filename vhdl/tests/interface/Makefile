# Makefile automatically generated by ghdl
# Version: GHDL 3.0.0-dev (2.0.0.r51.gd77a17b1) [Dunoon edition] - mcode code generator
# Command used to generate this makefile:
# ghdl --gen-makefile --std=08 tb_register_1 behav_reg_1

GHDL=ghdl
GHDLBASEFLAGS=
# use pre 08 std for test as protected type needed for shared RAM is more complex
GHDLFLAGS= # --std=08
# modified to generate a wave file BWM
GHDLRUNFLAGS= --stop-time=600ns --wave=behav-int-test-1.GHW

# Default target : elaborate
all : elab

# Elaborate target.  Almost useless
elab : force
	$(GHDL) -c $(GHDLFLAGS) -e int_test_tb_1 behav_int_test_tb_1

# Run target
run : force
	$(GHDL) -c $(GHDLFLAGS) -r int_test_tb_1 behav_int_test_tb_1 $(GHDLRUNFLAGS)

# Targets to analyze libraries
init: force
	# /usr/local/lib/ghdl/std/v08/../../src/std/v08/textio.vhdl
	# /usr/local/lib/ghdl/std/v08/../../src/std/v08/textio-body.vhdl
	# /usr/local/lib/ghdl/ieee/v08/../../src/ieee2008/std_logic_1164.vhdl
	# /usr/local/lib/ghdl/ieee/v08/../../src/ieee2008/std_logic_1164-body.vhdl
	# /usr/local/lib/ghdl/ieee/v08/../../src/ieee2008/numeric_std.vhdl
	# /usr/local/lib/ghdl/ieee/v08/../../src/ieee2008/numeric_std-body.vhdl
	$(GHDL) -a $(GHDLFLAGS) my_gpio_interface.vhd
	# there's two versions, use the INTERNAL BRAM version first as the testbed is more straightforward
	$(GHDL) -a $(GHDLFLAGS) bram-int.vhd 
	$(GHDL) -a $(GHDLFLAGS) int-test-int.vhd
	$(GHDL) -a $(GHDLFLAGS) int-test-int-tb.vhd

force:
